{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/SearchBar/Searchbar.module.css","services/ImagesApi.js","components/SearchBar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","api","fetchImages","searchQuery","currentPage","perPage","axios","get","then","response","data","hits","Searchbar","onSubmit","useState","query","setQuery","className","styles","searchbar","searchForm","event","preventDefault","type","btn","btnLabel","input","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","ImageGalleryItem","image","onImageClick","item","src","webformatURL","alt","tags","onClick","largeImageURL","defaultProps","ImageGallery","images","imageGallery","map","id","Button","btnContainer","modalRoot","document","getElementById","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","overlay","target","modal","App","setImages","setCurrentPage","setSearchQuery","isLoading","setLoading","error","setError","showModal","setShowModal","setLargeImageURL","scrollWindow","options","imagesApi","prevImages","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","length","color","height","width","fullImageUrl","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,KAAO,+BAA+B,MAAQ,kC,mBCAhED,EAAOC,QAAU,CAAC,IAAM,oBAAoB,aAAe,+B,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,4DCAjCD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,IAAM,uBAAuB,SAAW,4BAA4B,MAAQ,yBAAyB,iBAAmB,sC,2HCa/MC,EADH,CAAEC,YARM,SAAC,GAAyD,IAAD,IAAtDC,mBAAsD,MAAxC,GAAwC,MAApCC,mBAAoC,MAAtB,EAAsB,MAAnBC,eAAmB,MAAT,GAAS,EAC3E,OAAOC,IACJC,IADI,UAJQ,0BAIR,eAEeJ,EAFf,iBAEmCC,EAFnC,qBAE2DC,EAF3D,gBAHO,qCAGP,6CAIJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,U,wCC4BrBC,MAnCf,YAAkC,IAAbC,EAAY,EAAZA,SACnB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAaA,OACE,wBAAQC,UAAWC,IAAOC,UAA1B,SACE,uBAAMF,UAAWC,IAAOE,WAAYP,SATnB,SAAAQ,GACnBA,EAAMC,iBAENT,EAASE,GACTC,EAAS,KAKP,UACE,wBAAQO,KAAK,SAASN,UAAWC,IAAOM,IAAxC,SACE,sBAAMP,UAAWC,IAAOO,SAAxB,sBAGF,uBACER,UAAWC,IAAOQ,MAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAxBa,SAAAT,GACnBL,EAASK,EAAMU,cAAcC,QAwBvBA,MAAOjB,U,iBC3BXkB,EAAmB,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,aAG/B,OACI,oBAAIlB,UAAWC,IAAOkB,KAAtB,SACI,qBACInB,UAAWC,IAAOgB,MAClBG,IAAKH,EAAMI,aACXC,IAAKL,EAAMM,KACXC,QARS,kBAAMN,EAAaD,EAAMQ,qBAclDT,EAAiBU,aAAe,CAC5BH,KAAM,IAYKP,Q,iBCNAW,EAtBM,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQV,EAAX,EAAWA,aAAX,OACjB,oBAAIlB,UAAWC,IAAO4B,aAAtB,SACKD,EAAOE,KAAI,SAAAb,GACR,OACI,cAAC,EAAD,CAEIA,MAAOA,EACPC,aAAcA,GAFTD,EAAMc,U,iBCOhBC,EAZA,SAAC,GAAD,IAAGR,EAAH,EAAGA,QAAH,OACX,qBAAKxB,UAAWC,IAAOgC,aAAvB,SACI,wBAAQjC,UAAWC,IAAOM,IAAKD,KAAK,SAASkB,QAASA,EAAtD,0B,iBCFFU,EAAYC,SAASC,eAAe,cAkC3BC,MAhCf,YAAsC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,SAEtBC,qBAAU,WAGN,OAFAC,OAAOC,iBAAiB,UAAWC,GAE5B,WACHF,OAAOG,oBAAoB,UAAWD,OAI9C,IAAMA,EAAgB,SAAAvC,GACC,WAAfA,EAAMyC,MACNP,KAUR,OAAOQ,uBACC,qBAAK9C,UAAWC,IAAO8C,QAASvB,QAPb,SAAApB,GACnBA,EAAMU,gBAAkBV,EAAM4C,QAC9BV,KAKA,SACI,qBAAKtC,UAAWC,IAAOgD,MAAvB,SACKV,MAGTL,ICkEGgB,MA3Ff,WACE,MAA4BrD,mBAAS,IAArC,mBAAO+B,EAAP,KAAeuB,EAAf,KACA,EAAsCtD,mBAAS,GAA/C,mBAAOV,EAAP,KAAoBiE,EAApB,KACA,EAAsCvD,mBAAS,IAA/C,mBAAOX,EAAP,KAAoBmE,EAApB,KACA,EAAgCxD,oBAAS,GAAzC,mBAAOyD,EAAP,KAAkBC,EAAlB,KACA,EAA0B1D,mBAAS,MAAnC,mBAAO2D,EAAP,KAAcC,EAAd,KACA,EAAkC5D,oBAAS,GAA3C,mBAAO6D,EAAP,KAAkBC,EAAlB,KACA,EAA0C9D,mBAAS,IAAnD,mBAAO4B,EAAP,KAAsBmC,EAAtB,KAEApB,qBAAU,WACHtD,GAGLD,MAEC,CAACC,IAEJsD,qBAAU,WACJrD,EAAc,GAChB0E,MAED,CAAC1E,IAEJ,IAAMF,EAAc,WAClB,IAAM6E,EAAU,CAAE5E,cAAaC,eAE/BoE,GAAW,GAEXQ,EACG9E,YAAY6E,GACZvE,MAAK,SAAAqC,GACJuB,GAAU,SAAAa,GAAU,4BAAQA,GAAR,YAAuBpC,OAC3CwB,EAAejE,EAAc,MAE9B8E,OAAM,SAAAT,GACLC,EAASD,MAEVU,SAAQ,WACPX,GAAW,OAoBXM,EAAe,WACnBpB,OAAO0B,SAAS,CACdC,IAAKjC,SAASkC,gBAAgBC,aAC9BC,SAAU,YAIRC,EAA6B5C,EAAO6C,OAAS,IAAMnB,EAEzD,OACE,qCACGI,GACC,cAAC,EAAD,CAAOpB,QAvBO,WAClBqB,GAAcD,IAsBV,SACE,qBAAKtC,IAAKK,EAAeH,IAAI,GAAGtB,UAAU,iBAG9C,cAAC,EAAD,CAAWJ,SAvBO,SAAAE,GACpBuD,EAAevD,GACfsD,EAAe,GACfD,EAAU,IACVM,EAAS,SAoBND,GAAS,+DACTF,GACC,cAAC,IAAD,CACEhD,KAAK,OACLoE,MAAM,UACNC,OAAQ,GACRC,MAAO,GACP5E,UAAU,WAGd,cAAC,EAAD,CAAc4B,OAAQA,EAAQV,aA3CR,SAAA2D,GACxBjB,EAAiBiB,GACjBlB,GAAa,MA0CVa,GAA8B,cAAC,EAAD,CAAQhD,QAASvC,QC1FtD6F,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7C,SAASC,eAAe,W","file":"static/js/main.7a1f2256.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3wrZX\",\"image\":\"ImageGalleryItem_image__CsXtx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__32Ont\",\"btnContainer\":\"Button_btnContainer__3gxJk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2-gVp\",\"modal\":\"Modal_modal__2Q6l-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__kIhH7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2klsu\",\"searchForm\":\"Searchbar_searchForm__31cB4\",\"btn\":\"Searchbar_btn__3aCEz\",\"btnLabel\":\"Searchbar_btnLabel__J3TXa\",\"input\":\"Searchbar_input__3SSq8\",\"inputPlaceholder\":\"Searchbar_inputPlaceholder__2aBMv\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '21916614-7a53f7df19892a9cd44c5e501';\n\nconst fetchImages = ({ searchQuery = '', currentPage = 1, perPage = 12 }) => {\n  return axios\n    .get(\n      `${BASE_URL}/?q=${searchQuery}&page=${currentPage}&per_page=${perPage}&key=${API_KEY}&image_type=photo&orientation=horizontal`,\n    )\n    .then(response => response.data.hits);\n};\n\nconst api = { fetchImages };\nexport default api;\n","import { useState } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChange = event => {\r\n    setQuery(event.currentTarget.value);\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    onSubmit(query);\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={styles.searchbar}>\r\n      <form className={styles.searchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles.btn}>\r\n          <span className={styles.btnLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleChange}\r\n          value={query}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\n\r\nconst ImageGalleryItem = ({ image, onImageClick }) => {\r\n    const fullImageUrl = () => onImageClick(image.largeImageURL);\r\n\r\n    return (\r\n        <li className={styles.item}>\r\n            <img\r\n                className={styles.image}\r\n                src={image.webformatURL}\r\n                alt={image.tags}\r\n                onClick={fullImageUrl}\r\n            />\r\n        </li>\r\n    );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n    tags: '',\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    image: PropTypes.shape({\r\n        largeImageURL: PropTypes.string.isRequired,\r\n        webformatURL: PropTypes.string.isRequired,\r\n        tags: PropTypes.string,\r\n    }).isRequired,\r\n    onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onImageClick }) => (\r\n    <ul className={styles.imageGallery}>\r\n        {images.map(image => {\r\n            return (\r\n                <ImageGalleryItem\r\n                    key={image.id}\r\n                    image={image}\r\n                    onImageClick={onImageClick} />\r\n            );\r\n        })}\r\n    </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n        }),\r\n    ).isRequired,\r\n    onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\n\r\nconst Button = ({ onClick }) => (\r\n    <div className={styles.btnContainer}>\r\n        <button className={styles.btn} type='button' onClick={onClick}>\r\n            Load more\r\n        </button>\r\n    </div>\r\n);\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nfunction Modal ({onClose, children}) {\r\n    \r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    });\r\n\r\n    const handleKeyDown = event => {\r\n        if (event.code === 'Escape') {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    const handelOverlayClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    return createPortal(\r\n            <div className={styles.overlay} onClick={handelOverlayClick}>\r\n                <div className={styles.modal}>\r\n                    {children}\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        );    \r\n}\r\n\r\nexport default Modal;","import { useState, useEffect } from 'react';\nimport './App.css';\nimport imagesApi from './services/ImagesApi';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nfunction App() {\n  const [images, setImages] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    fetchImages();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  useEffect(() => {\n    if (currentPage > 2) {\n      scrollWindow();\n    }\n  }, [currentPage]);\n\n  const fetchImages = () => {\n    const options = { searchQuery, currentPage };\n\n    setLoading(true);\n\n    imagesApi\n      .fetchImages(options)\n      .then(images => {\n        setImages(prevImages => [...prevImages, ...images]);\n        setCurrentPage(currentPage + 1);\n      })\n      .catch(error => {\n        setError(error);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  const handleGalleryItem = fullImageUrl => {\n    setLargeImageURL(fullImageUrl);\n    setShowModal(true);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const onChangeQuery = query => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n    setImages([]);\n    setError(null);\n  };\n\n  const scrollWindow = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n  return (\n    <>\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImageURL} alt=\"\" className=\"modalImage\" />\n        </Modal>\n      )}\n      <Searchbar onSubmit={onChangeQuery} />\n      {error && <h1>Ooops... Something went wrong</h1>}\n      {isLoading && (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={50}\n          width={50}\n          className=\"loader\"\n        />\n      )}\n      <ImageGallery images={images} onImageClick={handleGalleryItem} />\n      {shouldRenderLoadMoreButton && <Button onClick={fetchImages} />}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}