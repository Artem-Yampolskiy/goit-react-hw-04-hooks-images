(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={item:"ImageGalleryItem_item__3wrZX",image:"ImageGalleryItem_image__CsXtx"}},13:function(e,t,a){e.exports={btn:"Button_btn__32Ont",btnContainer:"Button_btnContainer__3gxJk"}},14:function(e,t,a){e.exports={overlay:"Modal_overlay__2-gVp",modal:"Modal_modal__2Q6l-"}},26:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__kIhH7"}},31:function(e,t,a){},32:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2klsu",searchForm:"Searchbar_searchForm__31cB4",btn:"Searchbar_btn__3aCEz",btnLabel:"Searchbar_btnLabel__J3TXa",input:"Searchbar_input__3SSq8",inputPlaceholder:"Searchbar_inputPlaceholder__2aBMv"}},72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),o=a.n(r),i=(a(31),a(15)),s=a(4),l=(a(32),a(24)),u=a.n(l),b={fetchImages:function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,c=void 0===n?1:n,r=e.perPage,o=void 0===r?12:r;return u.a.get("".concat("https://pixabay.com/api","/?q=").concat(a,"&page=").concat(c,"&per_page=").concat(o,"&key=").concat("21916614-7a53f7df19892a9cd44c5e501","&image_type=photo&orientation=horizontal")).then((function(e){return e.data.hits}))}},m=a(25),j=a.n(m),h=a(5),d=a.n(h),f=a(1);var g=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(f.jsx)("header",{className:d.a.searchbar,children:Object(f.jsxs)("form",{className:d.a.searchForm,onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(f.jsx)("button",{type:"submit",className:d.a.btn,children:Object(f.jsx)("span",{className:d.a.btnLabel,children:"Search"})}),Object(f.jsx)("input",{className:d.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value)},value:r})]})})},O=a(12),_=a.n(O),p=function(e){var t=e.image,a=e.onImageClick;return Object(f.jsx)("li",{className:_.a.item,children:Object(f.jsx)("img",{className:_.a.image,src:t.webformatURL,alt:t.tags,onClick:function(){return a(t.largeImageURL)}})})};p.defaultProps={tags:""};var v=p,x=a(26),y=a.n(x),S=function(e){var t=e.images,a=e.onImageClick;return Object(f.jsx)("ul",{className:y.a.imageGallery,children:t.map((function(e){return Object(f.jsx)(v,{image:e,onImageClick:a},e.id)}))})},k=a(13),C=a.n(k),w=function(e){var t=e.onClick;return Object(f.jsx)("div",{className:C.a.btnContainer,children:Object(f.jsx)("button",{className:C.a.btn,type:"button",onClick:t,children:"Load more"})})},I=a(14),N=a.n(I),E=document.getElementById("modal-root");var F=function(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(f.jsx)("div",{className:N.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(f.jsx)("div",{className:N.a.modal,children:a})}),E)};var L=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(s.a)(r,2),l=o[0],u=o[1],m=Object(n.useState)(""),h=Object(s.a)(m,2),d=h[0],O=h[1],_=Object(n.useState)(!1),p=Object(s.a)(_,2),v=p[0],x=p[1],y=Object(n.useState)(null),k=Object(s.a)(y,2),C=k[0],I=k[1],N=Object(n.useState)(!1),E=Object(s.a)(N,2),L=E[0],P=E[1],B=Object(n.useState)(""),G=Object(s.a)(B,2),J=G[0],M=G[1];Object(n.useEffect)((function(){d&&T()}),[d]),Object(n.useEffect)((function(){l>2&&Q()}),[l]);var T=function(){var e={searchQuery:d,currentPage:l};x(!0),b.fetchImages(e).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),u(l+1)})).catch((function(e){I(e)})).finally((function(){x(!1)}))},Q=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},X=a.length>0&&!v;return Object(f.jsxs)(f.Fragment,{children:[L&&Object(f.jsx)(F,{onClose:function(){P(!L)},children:Object(f.jsx)("img",{src:J,alt:"",className:"modalImage"})}),Object(f.jsx)(g,{onSubmit:function(e){O(e),u(1),c([]),I(null)}}),C&&Object(f.jsx)("h1",{children:"Ooops... Something went wrong"}),v&&Object(f.jsx)(j.a,{type:"Puff",color:"#00BFFF",height:50,width:50,className:"loader"}),Object(f.jsx)(S,{images:a,onImageClick:function(e){M(e),P(!0)}}),X&&Object(f.jsx)(w,{onClick:T})]})};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(L,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.7a1f2256.chunk.js.map